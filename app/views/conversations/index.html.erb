<div class="flex flex-col h-screen bg-gray-100">
  <div class="flex flex-row flex-1">
    <!-- Left panel for conversations list -->
    <div class="w-1/4 bg-white border-r border-gray-200 p-4">
      <h1 class="text-xl font-semibold mb-4">Conversations</h1>
      <%= link_to "Create Conversation", new_conversation_path, class: "bg-blue-500 text-white py-2 px-4 rounded-md" %>

      <!-- List of conversations -->
      <ul class="mt-4 space-y-2">
        <% current_user.conversations.each do |conversation| %>
          <li>
            <%= link_to conversation.title, conversation_path(conversation), data: { turbo_frame: "messages-frame" } %>
          </li>
        <% end %>
      </ul>
    </div>

    <!-- Right panel for messages -->
    <div class="flex-1 bg-white p-4">
      <!-- Messages header -->
      <h1 class="text-xl font-semibold mb-4">Messages</h1>

      <!-- Messages container -->
      <turbo-frame id="messages-frame">
        <!-- Messages content will be loaded here -->
        <% if @current_conversation %>
          <!-- Display messages -->
          <% @current_conversation.messages.each do |message| %>
            <div class="bg-blue-500 text-white py-2 px-4 rounded-md mb-2">
              <%= message.content %>
            </div>
          <% end %>
        <% else %>
          <p>Select a conversation to view messages.</p>
        <% end %>
      </turbo-frame>

      <!-- Message input form -->
      <% if @current_conversation %>
        <%= form_with(model: Message.new, url: messages_path, data: { turbo_frame: "messages-frame" }) do |form| %>
          <%= form.hidden_field :conversation_id, value: @current_conversation.id %>
          <%= form.text_area :content, placeholder: "Type your message...", class: "w-full h-20 p-2 border rounded-md resize-none" %>
          <%= form.submit "Send", class: "bg-blue-500 text-white py-2 px-4 rounded-md mt-2" %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>